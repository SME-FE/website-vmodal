(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{172:function(t,s,e){"use strict";e.r(s);var n=e(0),a=Object(n.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),e("p",[t._v("我们需要先安装 "),e("a",{attrs:{href:"https://github.com/vuejs/babel-plugin-transform-vue-jsx",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-plugin-transform-vue-jsx"),e("OutboundLink")],1),t._v("，来将 JSX 的语法转换成 createElment 的形式，从而可以在 vue app 使用 JSX 语法。")]),t._v(" "),t._m(3),t._v(" "),t._m(4),e("p",[t._v("配置完成后，一般来说已经可以正常使用 JSX。如果使用场景比较特殊，比方说 SSR，Weex 等，可能需要额外的配置。可以查阅\n"),e("a",{attrs:{href:"https://github.com/vuejs/babel-plugin-transform-vue-jsx",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-plugin-transform-vue-jsx doc"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://babeljs.io/docs/en",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel doc"),e("OutboundLink")],1),t._v(" 获取更多信息。")]),t._v(" "),e("p",[t._v("设置完成后，就可以使用 JSX 作为 content：")]),t._v(" "),t._m(5),e("ul",[e("li",[e("a",{attrs:{href:"https://sme-fe.github.io/smv-modal/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线例子"),e("OutboundLink")],1)])]),t._v(" "),t._m(6),t._v(" "),e("p",[t._v("跟 React 不同，在 vue 里使用 JSX 会有一些限制。在 React 中，任何使用 JSX 的地方都需要显式 import React，因为最终 JSX 会转换成 React.createElement 的形式。如果不 import React，就会抛出 React is not defined 的错误。")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("Evan You, 在这个 "),e("a",{attrs:{href:"https://github.com/vuejs/vue/issues/4126",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),e("OutboundLink")],1),t._v(" 有提及到这块。")]),t._v(" "),t._m(9),t._v(" "),t._m(10)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsx","aria-hidden":"true"}},[this._v("#")]),this._v(" JSX")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("smv-modal")]),this._v(" 不仅支持 SFC 同时还支持 JSX。在 vue app 里使用 JSX 只需要简单的配置。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"配置-jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-jsx","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 JSX")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 "),s("code",[this._v(".babelrc")]),this._v(" 里添加下面配置")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token string"}},[t._v('"plugins"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{attrs:{class:"token string"}},[t._v('"transform-vue-jsx"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),e("span",{attrs:{class:"token function"}},[t._v("created")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token keyword"}},[t._v("this")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("modal "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{attrs:{class:"token function"}},[t._v("Modal")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'JSX'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    content"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("h2 "),e("span",{attrs:{class:"token keyword"}},[t._v("class")]),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"modal-content"')]),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v("'s "),e("span",{attrs:{class:"token keyword"}},[t._v("try")]),t._v(" jsx"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token operator"}},[t._v("<")]),e("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),e("span",{attrs:{class:"token operator"}},[t._v(">")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#限制","aria-hidden":"true"}},[this._v("#")]),this._v(" 限制")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("而在 vue 中，"),s("code",[this._v("createElement")]),this._v(" 方法没有直接暴露出来。故而不能像 React 般，通过 import React 在任何地方都可以使用 JSX。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可以简单理解为在 "),s("code",[this._v(".vue")]),this._v(" 文件中可以正常使用 JSX，而类似 "),s("code",[this._v("utils.js")]),this._v(" 这种纯 js 文件无法直接使用 JSX。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("1.The createElement passed to render functions are bound to the instance being rendered. This is required for Vue vnodes to have correct render context."),s("br"),this._v("\n2.If exposed on global Vue, you'd need to do import Vue from 'vue' in every component, which is in fact more verbose.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("所以在 "),s("code",[this._v(".vue")]),this._v(" 文件可以正常使用 JSX ，而类似于 vuex action 无法获取到上下文的地方无法直接使用 JSX，会抛出 "),s("code",[this._v("h")]),this._v(" function is not defined 这样的错误。")])}],!1,null,null,null);s.default=a.exports}}]);